# 地名标签云（fabricTagCloud） V4.0

## 🌐 项目在线访问

本项目已部署在线网站，用户可以直接通过浏览器访问体验完整功能：

🔗 [访问 fabricTagCloud 在线网站](https://www.hubutagcloud.cn/)

无需本地下载或安装，即可进行地名标签云的生成、样式调整、数据管理和多尺度展示。

---

## 📖 项目简介

**fabricTagCloud V4.0** 是基于 **Vue 3 + Vite + Element Plus + Fabric.js + 高德地图 API** 重构的前端可视化项目，旨在提供直观的空间数据分析与可视化展示。

项目主要功能包括：

- **地图展示 POI**：左侧窗口展示 **高德地图**，在大尺度地图上用点标记 POI，在小尺度地图上则使用热力图展示 POI 的空间范围分布。

- **数据区域选择**：在【数据筛选】栏目下，提供了多种数据筛选方法，包括绘制圆形/矩形/任意多边形范围等，若是对当前范围需要修改，也支持清除绘制。在完成范围绘制后，单击【运行生成标签云】，即可自动触发地名标签云生成。

- **源数据修改**：在左下部分数据管理模块，系统初始界面将会以二维数据表的形式展示当前系统存储的兴趣点数据，系统内默认存储的是全国的景点兴趣点数据。支持对数据进行修改管理。

- **中心型标签云生成**：根据绘制的区域范围，利用 **Fabric.js** 动态生成地名标签云。

- **多尺度标签云渲染展示**：用户可以通过单击，画布上方的【粗略显示】与【精细显示】，实现对画布内渲染展示的标签数量进行控制，从而实现多尺度地名标签云渲染展示。

- **展示属性信息**：可以单击画布上方的【显示排名信息】、【显示通行时间】，增加展示标签在当前城市的排名、抵达中心位置的通行时间（分钟）。

- **标签云样式编辑**：左侧窗口栏目提供样式面板，支持实时修改标签云样式：包括字体与配色两大板块。

  - 字体板块：支持修改标签分类类别、各类别字号大小、全局字重、字体类型。
  - 配色板块：支持对背景色、文字配色方案进行修改。

- **交互性**：用户可以自由调整样式，实时查看标签云效果，便于数据可视化分析与展示。

该项目目前用于课题组业务场景，可直观展示地理空间数据与语义标签之间的关系，辅助科研分析和可视化演示。

---

## 🛠 技术栈

- **前端框架**：Vue 3（Composition API）
- **构建工具**：Vite
- **UI 组件库**：Element Plus
- **状态管理**：Pinia
- **绘图工具**：Fabric.js
- **地图服务**：高德地图 API（@amap/amap-jsapi-loader）
- **其他工具**：
  - Axios（HTTP 请求）
  - Intro.js（引导教程）
  - Marked（Markdown 解析）
  - Lodash-es（工具函数）

---

## 📂 项目结构

```text
fabricTagCloud4/
│── index.html                    # 入口 HTML
│── vite.config.js                # Vite 配置文件
│── package.json                  # 项目依赖配置
│── public/                       # 静态资源目录
│   ├── data/                     # 数据文件
│   │   └── china.json            # 地图数据
│   └── img/                      # 图片资源
│       ├── getting-started/      # 快速上手图片
│       ├── introduction/         # 介绍图片
│       └── primer/               # 入门教程图片
│── src/                          # 源代码目录
│   ├── main.js                   # 应用入口
│   ├── App.vue                   # 根组件
│   ├── assets/                   # 资源文件
│   │   └── styles/
│   │       └── global.scss       # 全局样式
│   ├── components/               # Vue 组件
│   │   ├── color/                # 配色面板组件
│   │   │   ├── ColorPanel.vue
│   │   │   └── ribbonColorSchemes.js
│   │   ├── common/               # 通用组件
│   │   │   └── SplitterBar.vue  # 分割条组件
│   │   ├── content/              # 内容展示组件
│   │   │   ├── PoiContent.vue   # POI 内容容器
│   │   │   ├── PoiMap.vue       # 地图组件
│   │   │   └── PoiTable.vue     # 数据表格组件
│   │   ├── feedback/             # 反馈页面组件
│   │   │   └── FeedbackPage.vue
│   │   ├── help/                 # 帮助页面组件
│   │   │   └── HelpPage.vue
│   │   ├── layout/               # 布局组件
│   │   │   ├── FooterBar.vue    # 页脚
│   │   │   ├── HeaderBar.vue    # 页头
│   │   │   └── SideMenu.vue     # 侧边菜单
│   │   ├── tagcloud/             # 标签云组件
│   │   │   └── TagCloudCanvas.vue # 标签云画布
│   │   └── typeface/             # 字体面板组件
│   │       └── TypefacePanel.vue
│   └── stores/                   # Pinia 状态管理
│       └── poiStore.js           # POI 数据状态管理
│── doc/                          # 文档目录
│   │   ├── 地名标签云-概述.pdf
│   │   ├── 地名标签云-快速上手.pdf
│   │   ├── 地名标签云-入门教程.pdf
│   │   └── 示例数据.csv
│── HELP.md                       # 用户手册
│── README.md                     # 项目说明文档
```

---

## 🚀 运行方式

### 环境要求

- **Node.js**：18.0 或更高版本
- **npm**：9.0 或更高版本（或使用 yarn/pnpm）

### 安装与运行

#### 1. 安装依赖

```bash
npm install
```

#### 2. 启动开发服务器

```bash
npm run dev
```

启动后，浏览器会自动打开项目（默认地址：http://localhost:5173），支持热更新和完整功能（包括高德地图 API 调用）。

#### 3. 构建生产版本

```bash
npm run build
```

构建完成后，生成的文件将位于 `dist/` 目录，可用于部署到生产环境。

#### 4. 预览生产构建

```bash
npm run preview
```

用于在本地预览生产构建的结果。

#### 5. 代码检查

```bash
npm run lint
```

---

## 📦 依赖说明

### 核心依赖

- **Vue 3**：渐进式 JavaScript 框架，采用 Composition API 提供更好的逻辑复用和类型推导
- **Vite**：下一代前端构建工具，提供极速的开发体验
- **Element Plus**：基于 Vue 3 的组件库，提供丰富的 UI 组件
- **Pinia**：Vue 官方推荐的状态管理库，替代 Vuex
- **Fabric.js**：强大的 HTML5 Canvas 库，用于生成标签云及可视化绘图
- **高德地图 API**：提供地图服务与地理空间数据展示

### 开发依赖

- **@vitejs/plugin-vue**：Vite 的 Vue 插件
- **ESLint**：代码质量检查工具
- **Sass**：CSS 预处理器

📌 所有依赖均通过 npm 管理，安装依赖后即可使用。

---

## 💡 功能说明

### 1. 地图展示与 POI 标记

- 左侧地图窗口默认显示指定区域的地图
- POI 信息通过数据点绘制在地图上，支持点击查看详细信息
- 支持地图缩放、拖拽、搜索定位等交互操作

### 2. 数据区域选择

- 用户在地图上绘制圆形/矩形/多边形范围
- 单击【运行生成标签云】，触发 Fabric.js 标签云生成逻辑
- 范围质心自动作为标签云的中心点

### 3. 标签云生成

- 根据所绘制范围内的数据生成中心型标签云
- 标签根据权重或数量大小进行排布
- 采用多角度径向移位算法，实现无压盖的标签布局

### 4. 多尺度标签云渲染展示

- 对画布内渲染展示的标签数量进行控制，实现多尺度地名标签云渲染展示
- 支持粗略显示和精细显示两种模式切换

### 5. 展示属性信息

- 增加展示标签在当前城市的排名、抵达中心位置的通行时间（分钟）
- 通行时间通过高德 Web 驾车 API 动态获取

### 6. 样式编辑面板

- 支持动态修改标签云的：字体颜色、字体大小、字体类型、字重
- 支持修改背景色、色带配色方案
- 面板操作即时渲染标签云，无需刷新页面

### 7. 数据管理模块

- 支持通过二维表管理修改数据
- 支持数据导入、编辑、筛选、批量操作等功能
- 支持显示所有记录、显示所选记录等视图切换

### 8. 可视化交互

- 标签云可拖拽、缩放
- 提供良好的交互体验，方便科研分析与演示
- 支持标签高亮显示、详情查看等交互功能

### 9. 引导教程

- 首次访问自动启动引导教程
- 可随时通过导航栏的"引导教程"按钮重新查看
- 帮助用户快速了解系统功能

---

## 🖼 效果展示

### 1. 标签云效果图

![标签云效果图](/public/img/introduction/3tagCloudDrawing.png)

### 2. 数据导入修改

![支持数据导入与修改](/public/img/introduction/4dataImport.png)

### 3. 字体样式修改

![字体修改](/public/img/introduction/5fontModification.png)

### 4. 配色修改

![配色修改](/public/img/introduction/6ColourModification.png)

### 5. 多尺度变换

![多尺度模型](/public/img/introduction/7multiscaleModel.png)

### 6. 展示排名与通行时间

详细功能说明请参考项目中的 [HELP.md](./HELP.md) 文件。

---

## 🔄 版本更新说明

### V4.0 主要变化

相比 V3.0 版本，V4.0 进行了全面的技术栈升级：

1. **框架升级**：从纯 JavaScript 重构为 Vue 3 + Composition API
2. **构建工具**：使用 Vite 替代传统构建方式，提升开发体验
3. **UI 组件**：集成 Element Plus，提供更现代化的界面
4. **状态管理**：使用 Pinia 统一管理应用状态
5. **代码组织**：采用组件化开发，提高代码可维护性和复用性
6. **开发体验**：支持热更新、TypeScript 友好、更好的开发工具支持

### 功能兼容性

V4.0 保持了 V3.0 的所有核心功能，同时提供了更好的用户体验和代码维护性。

---

## 👥 团队介绍

我们是 **湖北大学制图组**，由资环学院的 **成晓强导师** 领导。团队研究方向涵盖两个核心领域：

1. **专业热点方向：时空大数据可视化**

   - 利用大数据技术与可视化方法，将地理信息、兴趣点数据与空间分析结果以直观方式呈现。
   - 通过交互式可视化工具（如地名标签云）辅助科研分析、教学演示和数据探索。

2. **专业新兴方向：泛地图学理论与方法**

   - 探索新型地图可视化方法，包括**隐喻地图**和**创新可视化技术**。
   - 致力于将传统地理制图与现代计算可视化结合，推动地图学理论与方法的创新发展。

团队成员来自 **地理学、资源与环境、计算机科学与技术** 等相关专业，我们欢迎本科生、研究生及相关科研人员加入，参与前沿研究、项目开发和学术交流。

实验室官网详细介绍请参阅：
🔗 [湖北大学制图组官网](https://www.hubutagcloud.cn/cxq-group/)

---

## 💬 用户参与与建议

我们非常欢迎广大用户参与 **fabricTagCloud** 的优化与发展，您的建议与反馈对我们至关重要。

您可以通过以下渠道与我们交流：

- **网站反馈模块**：在网站内填写反馈表单，提交功能或体验建议。
- **电子邮件联系**：向团队邮箱 1937983507@qq.com 发送意见或改进建议。
- **GitHub 提问**：在本项目 GitHub 仓库提交 issue，与团队直接交流和讨论。

我们期待您的宝贵意见，并将持续改进，让 fabricTagCloud 更加高效、直观、易用。

---

## 📚 相关文档

- [用户手册](./HELP.md)：详细的功能说明和使用教程
- [快速上手文档](./doc/地名标签云-快速上手.pdf)
- [入门教程文档](./doc/地名标签云-入门教程.pdf)
- [项目概述文档](./doc/地名标签云-概述.pdf)

---

## 📜 License

本项目仅供学习使用，禁止未经授权的商用。
